import{a as V,c as W}from"./chunk-OTOQPNFC.js";import{a as H,b as N,c as z,d as U,e as G,f as q,h as J}from"./chunk-O62WTFBR.js";import{H as K,I as Q}from"./chunk-VO3RIM5S.js";import{b as B,e as R,y as j}from"./chunk-HKDZNTJD.js";import{f as L,g as $}from"./chunk-VH6JMEIQ.js";import{Ab as d,Bb as x,Cc as F,Db as _,Eb as f,Ec as T,Fb as i,Gb as n,Hb as M,Nb as c,Qb as S,Ua as h,Xa as o,Ya as p,Yb as r,Zb as s,_b as g,cc as b,db as w,ec as I,fc as E,ib as A,nb as v,tb as P,ub as k,wb as m}from"./chunk-FTEUR76U.js";var Y=()=>[T,import("./chunk-26DR4WFC.js").then(e=>e.PromotionsComponent)],X=e=>["../",e];function Z(e,a){if(e&1&&(i(0,"p"),r(1),n()),e&2){let t=a.$implicit;o(),s(t)}}function tt(e,a){if(e&1&&(i(0,"mat-icon"),r(1),n()),e&2){let t=a.$implicit;o(),s(t)}}function et(e,a){if(e&1&&(i(0,"tr")(1,"td"),r(2),n(),i(3,"td"),r(4),n()()),e&2){let t=a.$implicit;o(2),g(" ",t.description," "),o(2),g(" \u20B9",t.value," ")}}function it(e,a){if(e&1&&(i(0,"div")(1,"b"),r(2,"Entry Fee"),n(),i(3,"table",8),_(4,et,5,2,"tr",null,x),i(6,"tr")(7,"span",9),r(8,"* approximately"),n()()()()),e&2){let t=c(2);o(4),f(t.siteData().fee)}}function nt(e,a){if(e&1&&(i(0,"div"),M(1,"img",10),n()),e&2){let t=a.$implicit,l=c(2);o(),S("src",t,h),S("alt",l.siteData().title)}}function at(e,a){if(e&1&&(i(0,"a",7),r(1),n()),e&2){let t=c(2);m("routerLink",b(2,X,t.previousSite)),o(),s(t.previousSite)}}function ot(e,a){if(e&1&&(i(0,"a",7),r(1),n()),e&2){let t=c(2);m("routerLink",b(2,X,t.nextSite)),o(),s(t.nextSite)}}function rt(e,a){if(e&1&&(i(0,"mat-card",1),I(1,"async"),i(2,"mat-card-header",3)(3,"mat-card-title"),r(4),n(),i(5,"mat-card-subtitle"),r(6),n()(),i(7,"mat-card-content"),_(8,Z,2,1,"p",null,x),i(10,"div",4)(11,"div")(12,"b"),r(13,"Contacts"),n(),i(14,"p"),r(15),n(),i(16,"p"),r(17," Location: "),i(18,"a",5),r(19),n()()(),i(20,"div")(21,"b"),r(22,"Amenities"),n(),i(23,"p"),r(24,"Amenities available at or near the site."),n(),_(25,tt,2,1,"mat-icon",null,x),n(),v(27,it,9,0,"div"),n(),i(28,"p")(29,"strong"),r(30,"Image Gallery"),n()(),i(31,"div",4),_(32,nt,2,2,"div",null,x),n()(),i(34,"mat-card-actions",6),v(35,at,2,4,"a",7)(36,ot,2,4,"a",7),n()()),e&2){let t=c();m("ngClass",E(1,9,t.isHandset$)?"site-card":""),o(4),s(t.siteData().title),o(2),s(t.siteData().timing),o(2),f(t.siteData().description),o(7),g("Address: ",t.siteData().address,""),o(3),S("href",t.siteData().locationUrl,h),o(),s(t.siteData().title),o(6),f(t.siteData().amenities),o(2),d(t.siteData().fee.length>0?27:-1),o(5),f(t.siteData().images),o(3),d(t.previousSite?35:-1),o(),d(t.nextSite?36:-1)}}function lt(e,a){e&1&&(i(0,"p",2),r(1,"404 - Opps! the site you are looking for does not exist."),n())}function st(e,a){if(e&1&&(i(0,"div",11),M(1,"app-promotions",12),I(2,"async"),n()),e&2){let t=c();o(),m("attractionFilter",t.attraction)("maxPromotionsLimit",E(2,2,t.isHandset$)?4:6)}}var D=class e{constructor(a,t,l,u){this.dataService=l;this.activatedRoute=u;this.isHandset$=l.isHandset$,t.setTitle("Trip Info - Site Details"),a.updateTag({name:"description",content:"More details about a particular attraction or site."})}siteData=w("");nextSite="";attraction="";previousSite="";isHandset$;paramSubscription;ngOnInit(){this.paramSubscription=this.activatedRoute.paramMap.subscribe({next:a=>{let t=a.get("siteName")||"",l=a.get("attractionName")||"";this.attraction=l,this.getAttractionData(l,t)}})}getAttractionData(a,t){let l=`${a}/${a}.json`.toLowerCase();this.dataService.getAttractionData(l).subscribe({next:u=>{t=t.replaceAll("-"," "),u.attractions.details.find((O,C,y)=>{O.title.toLowerCase()==t&&(this.previousSite=C-1>-1?y[C-1].title.toLowerCase().replaceAll(" ","-"):"",this.nextSite=C+1<y.length?y[C+1].title.toLowerCase().replaceAll(" ","-"):"",this.siteData.set(O))})},error:u=>console.log(u)})}ngOnDestroy(){this.paramSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||e)(p(L),p($),p(j),p(B))};static \u0275cmp=A({type:e,selectors:[["app-site-details"]],decls:6,vars:1,consts:[[1,"container"],[3,"ngClass"],[2,"font-size","larger"],[2,"background-color","#cfe6ff"],[1,"row"],["target","_blank",2,"text-decoration","none",3,"href"],["align","end"],["mat-button","",3,"routerLink"],[2,"width","100%","margin-top","16px"],[2,"font-size","x-small"],[3,"src","alt"],[2,"margin-top","16px"],[3,"attractionFilter","maxPromotionsLimit"]],template:function(t,l){t&1&&(i(0,"div",0),v(1,rt,37,11,"mat-card",1)(2,lt,2,0,"p",2)(3,st,3,4),P(4,3,Y),k(),n()),t&2&&(o(),d(l.siteData()?1:2))},dependencies:[J,H,G,z,q,U,N,Q,K,T,F,W,V,R],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:16px}.row[_ngcontent-%COMP%]{display:flex;margin-top:8px;justify-content:center;flex-wrap:wrap;gap:8px}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:12px;width:340px;box-shadow:4px 4px 8px #0000001a}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#205389;margin-right:8px}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:340px;height:248px;object-fit:cover}.site-card[_ngcontent-%COMP%]{width:372px}"]})};var Ot=[{path:"",redirectTo:"/main/home",pathMatch:"full"},{path:"attraction-details/:attractionName/site/:siteName",component:D}];export{Ot as routes};
