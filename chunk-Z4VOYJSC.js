import{e as L,n as I}from"./chunk-4L7AP772.js";import"./chunk-SUJPAYFD.js";import"./chunk-7ARXMA23.js";import{$a as d,Ab as g,Bb as u,Cb as x,Eb as h,Fb as v,Gb as P,Hb as r,Ib as a,Jb as C,Ua as p,Wa as n,ec as m,gc as _,hb as f,ic as s,mc as y,ra as l}from"./chunk-36HTVKP4.js";var O=(i,t)=>["/","main","attraction-details",i,"site",t];function S(i,t){i&1&&(r(0,"div",1),m(1,"Promotions"),a())}function F(i,t){if(i&1&&(r(0,"div",2)(1,"div",3),m(2),a(),r(3,"div"),C(4,"img",4),a()()),i&2){let e=t.$implicit;n(2),_(" ",e.title," "),n(2),P("src",s(e.image),p)("alt",s(e.title))("routerLink",y(6,O,e.link.toLowerCase(),e.title.toLowerCase().replaceAll(" ","-")))}}var M=class i{constructor(t){this.dataService=t}promotions=l([]);maxPromotionsLimit=8;attractionFilter="";ngOnInit(){this.dataService.getPromotions().subscribe({next:t=>{if(this.attractionFilter){let c=t.filter(w=>w.link==this.attractionFilter);c.length&&(t=c)}let e=Math.floor(Math.random()*t.length),o=e>this.maxPromotionsLimit?e-this.maxPromotionsLimit+1:0;this.promotions.set(t.slice(o,o+this.maxPromotionsLimit))},error:t=>console.log(t)})}static \u0275fac=function(e){return new(e||i)(d(I))};static \u0275cmp=f({type:i,selectors:[["app-promotions"]],inputs:{maxPromotionsLimit:"maxPromotionsLimit",attractionFilter:"attractionFilter"},decls:4,vars:1,consts:[[1,"container"],[1,"header"],[1,"item"],[1,"head-title"],["mat-card-image","",3,"src","alt","routerLink"]],template:function(e,o){e&1&&(r(0,"div",0),g(1,S,2,0,"div",1),h(2,F,5,9,"div",2,x),a()),e&2&&(n(),u(o.promotions().length?1:-1),n(),v(o.promotions()))},dependencies:[L],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:.5rem}.header[_ngcontent-%COMP%]{color:gray;text-align:center;font-size:small;width:90%}.head-title[_ngcontent-%COMP%]{padding:4px;text-align:center;background-color:orange}.item[_ngcontent-%COMP%]{width:172px;display:flex;flex-direction:column;justify-content:space-between}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:172px;height:128px;cursor:pointer}"]})};export{M as PromotionsComponent};
