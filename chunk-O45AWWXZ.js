import{e as M,y}from"./chunk-TF36Y5U6.js";import"./chunk-NZHBG2WF.js";import{$b as h,Bb as P,Cb as x,Eb as u,Fb as C,Gb as o,Hb as r,Ib as v,Rb as m,Va as c,Ya as a,Za as l,Zb as s,eb as p,ec as _,jb as d,ob as g,xb as f}from"./chunk-XFZ7SW23.js";var L=(i,t)=>["/","main","attraction-details",i,"site",t];function S(i,t){i&1&&(o(0,"p",0),s(1,"Promotions"),r())}function w(i,t){if(i&1&&(o(0,"div",2)(1,"div",3),s(2),r(),o(3,"div"),v(4,"img",4),r()()),i&2){let e=t.$implicit;a(2),h(" ",e.title," "),a(2),m("src",e.image,c),m("alt",e.title),f("routerLink",_(4,L,e.link.toLowerCase(),e.title.toLowerCase().replaceAll(" ","-")))}}var O=class i{constructor(t){this.dataService=t}promotions=p([]);maxPromotionsLimit=8;attractionFilter="";ngOnInit(){this.dataService.getPromotions().subscribe({next:t=>{this.attractionFilter&&(t=t.filter(I=>I.link==this.attractionFilter));let e=Math.floor(Math.random()*t.length),n=e>this.maxPromotionsLimit?e-this.maxPromotionsLimit+1:0;this.promotions.set(t.slice(n,n+this.maxPromotionsLimit))},error:t=>console.log(t)})}static \u0275fac=function(e){return new(e||i)(l(y))};static \u0275cmp=d({type:i,selectors:[["app-promotions"]],inputs:{maxPromotionsLimit:"maxPromotionsLimit",attractionFilter:"attractionFilter"},decls:4,vars:1,consts:[[1,"head-title"],[1,"container"],[1,"item"],[1,"title"],["mat-card-image","",3,"src","alt","routerLink"]],template:function(e,n){e&1&&(g(0,S,2,0,"p",0),o(1,"div",1),u(2,w,5,7,"div",2,x),r()),e&2&&(P(n.promotions().length?0:-1),a(2),C(n.promotions()))},dependencies:[M],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:8px}.container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:172px;display:flex;flex-direction:column;justify-content:space-between}.container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:4px;text-align:center;background-color:orange}.container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:172px;height:128px;cursor:pointer}.head-title[_ngcontent-%COMP%]{text-align:center;color:gray;font-size:small}"]})};export{O as PromotionsComponent};
