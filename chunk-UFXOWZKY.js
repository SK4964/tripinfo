import{a as W}from"./chunk-EIDAFUWJ.js";import{Ca as R,E as S,Ea as k,G as _,Gc as H,R as j,S as C,T as P,V as B,W as w,Z as p,a as M,ca as L,da as a,db as F,f as I,i as D,m as s,q as m,r as N,u as A,ua as T,xa as O}from"./chunk-FTEUR76U.js";function at(t){return t!=null&&`${t}`!="false"}function st(t,e=0){return Z(t)?Number(t):arguments.length===2?e:0}function Z(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function v(t){return Array.isArray(t)?t:[t]}function ct(t){return t==null?"":typeof t=="string"?t:`${t}px`}function dt(t){return t instanceof O?t.nativeElement:t}var x;try{x=typeof Intl<"u"&&Intl.v8BreakIterator}catch{x=!1}var K=(()=>{class t{_platformId=a(R);isBrowser=this._platformId?H(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||x)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h,$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ft(){if(h)return h;if(typeof document!="object"||!document)return h=new Set($),h;let t=document.createElement("input");return h=new Set($.filter(e=>(t.setAttribute("type",e),t.type===e))),h}var f;function tt(){if(f==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>f=!0}))}finally{f=f||!1}return f}function gt(t){return tt()?t:!!t.capture}var g=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(g||{}),y,l;function bt(){if(l==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return l=!1,l;if("scrollBehavior"in document.documentElement.style)l=!0;else{let t=Element.prototype.scrollTo;t?l=!/\{\s*\[native code\]\s*\}/.test(t.toString()):l=!1}}return l}function wt(){if(typeof document!="object"||!document)return g.NORMAL;if(y==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),y=g.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,y=t.scrollLeft===0?g.NEGATED:g.INVERTED),t.remove()}return y}var E;function et(){if(E==null){let t=typeof document<"u"?document.head:null;E=!!(t&&(t.createShadowRoot||t.attachShadow))}return E}function yt(t){if(et()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function vt(t){return t.composedPath?t.composedPath()[0]:t.target}function Et(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var G=new Set,u,nt=(()=>{class t{_platform=a(K);_nonce=a(k,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ot}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&it(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function it(t,e){if(!G.has(t))try{u||(u=document.createElement("style"),e&&u.setAttribute("nonce",e),u.setAttribute("type","text/css"),document.head.appendChild(u)),u.sheet&&(u.sheet.insertRule(`@media ${t} {body{ }}`,0),G.add(t))}catch(n){console.error(n)}}function ot(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var q=(()=>{class t{_mediaMatcher=a(nt);_zone=a(T);_queries=new Map;_destroySubject=new D;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Q(v(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=Q(v(n)).map(c=>this._registerQuery(c).observable),o=N(r);return o=A(o.pipe(_(1)),o.pipe(C(1),S(0))),o.pipe(m(c=>{let d={matches:!1,breakpoints:{}};return c.forEach(({matches:b,query:U})=>{d.matches=d.matches||b,d.breakpoints[U]=b}),d}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new I(c=>{let d=b=>this._zone.run(()=>c.next(b));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(P(i),m(({matches:c})=>({query:n,matches:c})),B(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Q(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var z={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var X=class t{constructor(e){this.httpClient=e}httpRequestInProgress=F("determinate");attractions=[];attractionDataCache=new Map;attractionDetailCache="";promotionsCache=[];breakpointObserver=a(q);isHandset$=this.breakpointObserver.observe(z.Handset).pipe(m(e=>e.matches),j());getAttractions(){return this.attractions.length?s(this.attractions):this.httpClient.get("data/attraction.json").pipe(w(e=>this.attractions=e))}getAttractionData(e){let n=this.attractionDataCache.get(e);return n?s(n):this.httpClient.get(`data/${e}`).pipe(w(i=>this.attractionDataCache.set(e,i)))}getAutoCompleteAttractions(e){return e=e.toLowerCase(),s(this.attractions.filter(n=>n.toLowerCase().includes(e)).slice(0,30))}getRandomAttraction(){if(this.attractionDetailCache)return s(this.attractionDetailCache);let e=Math.floor(Math.random()*this.attractions.length),n=this.attractions[e],i=`${n}/${n}.json`.toLowerCase();return this.getAttractionData(i).pipe(m(r=>{let o=Math.floor(Math.random()*r.attractions.details.length);return this.attractionDetailCache=M({subTitle:r.title},r.attractions.details[o]),this.attractionDetailCache}))}getHighlightAttractions(e){let n=[],i=this.attractions.length,r=i>e?e:i;if(!i)return s(n);let o=Math.floor(Math.random()*i);do n.push(this.attractions[o++]),o>=i&&(o=0);while(n.length<r);return s(n)}getPromotions(){return this.promotionsCache.length?s(this.promotionsCache):this.httpClient.get("data/promotion.json").pipe(w(e=>this.promotionsCache=e))}static \u0275fac=function(n){return new(n||t)(L(W))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};export{K as a,ft as b,gt as c,g as d,bt as e,wt as f,yt as g,vt as h,Et as i,at as j,st as k,v as l,ct as m,dt as n,q as o,z as p,X as q};
